<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ì£¼ê°„ ê³¼ì œ 1ì›” 3íšŒì°¨ ë…ì„œ</title>
<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.0/kakao.min.js"></script>
<style>
:root{--p:#6c5ce7;--bg:#f8f9fc}body{font-family:-apple-system,sans-serif;background:var(--bg);padding:15px;margin:0}.container{max-width:600px;margin:0 auto;background:#fff;padding:25px;border-radius:20px;box-shadow:0 10px 25px rgba(0,0,0,0.1)}.notice-box{background:#fff3e0;padding:15px;border-radius:12px;margin-bottom:20px;font-size:0.9rem;color:#5d4037;line-height:1.6}.q-card{background:#fff;border:1.5px solid #eee;border-radius:15px;padding:20px;margin-bottom:12px}.options{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;position:relative}.opt-input{position:absolute;width:0;height:0;opacity:0;pointer-events:none}.opt-label{height:45px;border:1.5px solid #eee;border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;transition:0.2s;position:relative;z-index:1}.opt-input:checked+.opt-label{background:var(--p);color:#fff;box-shadow:0 5px 12px rgba(108,92,231,0.3)}.opt-input:disabled+.opt-label{background:#eee;color:#bbb;cursor:not-allowed;border:none}#timer{font-weight:bold;color:#ff6b6b;text-align:right;font-size:1.0rem;margin-bottom:10px}#overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:99;align-items:center;justify-content:center}input,select{padding:12px;border:1px solid #ddd;border-radius:10px;width:100%;box-sizing:border-box;outline:none}
</style><script>
(function(){ const urlParams = new URLSearchParams(window.location.search); if(urlParams.has("admin_view")){ const data = JSON.parse(decodeURIComponent(urlParams.get("admin_view"))); document.write("<div class='container' style='margin-top:50px; text-align:center; box-shadow: 0 0 100px rgba(0,0,0,0.2); border: 3px solid #6c5ce7;'><h2>ğŸ“Š ì„±ì  í™•ì¸</h2><div class='notice-box' style='text-align:left; line-height:2;'><b>ğŸ‘¤ ì´ë¦„:</b> "+data.name+"<br><b>ğŸ« í•™ì›:</b> "+data.class+"<br><b>ğŸ”„ ë„ì „:</b> "+data.att+"íšŒì°¨<br><b>âŒ ì˜¤ë‹µ:</b> <span style='color:red'>"+data.wrongCount+"ê°œ</span><br><b>ğŸ“ ë²ˆí˜¸:</b> "+(data.wrongList||"ì—†ìŒ")+"</div><button onclick='location.href=location.href.split(\"?\")[0]' style='width:100%;padding:15px;background:#6c5ce7;color:white;border:none;border-radius:10px;font-weight:bold;cursor:pointer'>ëŒì•„ê°€ê¸°</button></div>"); window.stop(); } })(); </script>
</head><body><div id="overlay"></div><div class="container"><h2 style="text-align:center">ì£¼ê°„ ê³¼ì œ 1ì›” 3íšŒì°¨ ë…ì„œ</h2><div id="timer">â± <span id="timeText">--ë¶„ --ì´ˆ ë‚¨ìŒ</span></div><div class="notice-box"><b>[ê³µì§€]</b> - í™œì„±í™”ëœ ë²ˆí˜¸ë§Œ í’€ì–´ì„œ ì²´í¬í•˜ì„¸ìš”.<br>- ë§Œì  ë‹¬ì„± ì‹œ ì •ë‹µê³¼ í•´ì„¤ì´ ì¦‰ì‹œ ê³µê°œë©ë‹ˆë‹¤.<br>- ë…ì„œëŠ” ì§€ì • ì§€ë¬¸ë§Œ í’€ì–´ì„œ ì²´í¬í•˜ì„¸ìš”.<br>- ì œì¶œ ê¸°í•œì€ ì¼ìš”ì¼ ì €ë… 11ì‹œê¹Œì§€ì…ë‹ˆë‹¤. <br>ğŸ”„ ì´ 3íšŒ ë„ì „ ê°€ëŠ¥</div><div id="limitMsg" style="display:none;color:#d63031;font-weight:bold;text-align:center;margin-bottom:20px;padding:15px;background:#fab1a0;border-radius:12px"></div><div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:15px"><input type="text" id="cN" placeholder="í•™ì›ëª…"> <input type="text" id="sN" placeholder="í•™ìƒ ì´ë¦„" oninput="checkLimit()"></div><div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:15px"><select id="sD" onchange="checkLimit()"><option value="">ì œì¶œì¼ ì„ íƒ</option></select><a href="https://goe2427-my.sharepoint.com/:b:/g/personal/pure173_jeonghyeonh_goe_go_kr/IQC5xf-Z-XrcRKZRHFK77VR1AR04L4r74w6r8sNvYB7-j5c?e=bnXP4u" target="_blank" style="display:flex;align-items:center;justify-content:center;background:#eee;color:#333;text-decoration:none;border-radius:10px;font-weight:bold;font-size:0.8rem">ğŸ“„ ë¬¸ì œì§€</a></div><div id="qC"></div><button id="subBtn" onclick="submit()" style="width:100%;padding:20px;background:#ff6b6b;color:white;border:none;border-radius:15px;font-weight:bold;margin-top:20px;cursor:pointer;font-size:1.1rem">ğŸ“ ë‹µì•ˆ ì œì¶œí•˜ê¸°</button><button id="kakaoBtn" onclick="share()" style="display:none;width:100%;background:#fee500;color:#3c1e1e;border:none;padding:20px;border-radius:15px;font-weight:bold;margin-top:20px;cursor:pointer;font-size:1.1rem">ğŸŸ¡ ì¹´í†¡ìœ¼ë¡œ ì œì¶œ í™•ì¸</button><div id="resArea" style="display:none;margin-top:20px"></div></div><script>
let w=0, att=0, isBlocked=false, resT="", isPerfect=false, wrongListStr="";
const rawAns = "153431412344421245255434314314431345415553";
const active=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,21,22,23,24,25,26,27,28,29,30,37,38,39], maxT=3, waitMin=3;
const startDay="2026-01-21", endDay="2026-01-26";
const ansLink = "https://goe2427-my.sharepoint.com/:b:/g/personal/pure173_jeonghyeonh_goe_go_kr/IQC55ZuoL-2GSrdGKtWFXkzyARIkd0dBWnPkWxekrIjZznY?e=k7Tdrp", HW_ID = "HW_" + Date.now(), ADMIN_BASE = "https://saenarachild-crypto.github.io/kim-korean-homework/stest22.html", GAS_URL = "https://script.google.com/macros/s/AKfycbztPu2ZsmP7HOt93FGri3W86YV7i0U-71BbAl9cXclpxZJGTXcSE8ejOwuv8RTdE0bP/exec";
const answerMap = {}; for(let i=0; i<rawAns.length; i++) { answerMap[i+1] = parseInt(rawAns.charAt(i)); }
try{if(!Kakao.isInitialized()){Kakao.init("f81d5eae0eaaf6fa2d0bdccbe6916001");}}catch(e){console.error(e);}
function initPage(){
  const sel=document.getElementById("sD"); const start=new Date();
  for(let i=0; i<7; i++){ let d=new Date(start.getTime() + i*24*60*60*1000); let s=d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate(); let opt=document.createElement("option"); opt.value=s; opt.innerText=s; sel.appendChild(opt); }
  let h=""; for(let n=1; n<=42; n++){
    const dis = active.includes(n) ? "" : "disabled";
    h+="<div class='q-card'><div style='font-weight:bold;margin-bottom:15px;font-size:1.1rem'>"+n+"ë²ˆ</div><div class='options'>";
    for(let j=1;j<=5;j++){ h+="<input type='radio' name='q"+n+"' id='q"+n+"_"+j+"' value='"+j+"' class='opt-input' "+dis+"><label for='q"+n+"_"+j+"' class='opt-label'>"+j+"</label>"; }
    h+="</div></div>";
  } document.getElementById("qC").innerHTML=h; checkDateLimit();
}
function submit(){
  if(isBlocked) return; const cN=document.getElementById("cN").value, sN=document.getElementById("sN").value.trim().replace(/\s/g,""), sD=document.getElementById("sD").value; if(!cN||!sN||!sD){alert("ì •ë³´ ì…ë ¥!"); return;}
  w=0; let d=[];
  active.forEach(num => {
    const selected = document.querySelector("input[name='q"+num+"']:checked");
    const userValue = selected ? parseInt(selected.value) : 0;
    if(userValue !== answerMap[num]) { w++; d.push(num); }
  });
  isPerfect = (w === 0); wrongListStr = d.join(","); const key="att_"+sN+"_"+HW_ID; att=parseInt(localStorage.getItem(key)||0)+1; localStorage.setItem(key, att); if(isPerfect){ localStorage.setItem("perf_"+sN+"_"+HW_ID, "true"); }
  resT="[" + "ì£¼ê°„ ê³¼ì œ 1ì›” 3íšŒì°¨ ë…ì„œ" + "]\n"+sN+"("+att+"íšŒì°¨) ì œì¶œ ì™„ë£Œ"; alert("ì¹´í†¡ ì „ì†¡ í›„ [ì™„ë£Œ] í´ë¦­!"); document.getElementById("subBtn").style.display="none"; document.getElementById("kakaoBtn").style.display="block";
  fetch(GAS_URL, { method: "POST", mode: "no-cors", body: JSON.stringify({exam: "ì£¼ê°„ ê³¼ì œ 1ì›” 3íšŒì°¨ ë…ì„œ", name: sN, class: cN, attempt: att, wrongCount: w, wrongList: wrongListStr}) });
}
function checkDateLimit(){ const now = new Date(); now.setHours(0,0,0,0); const sDate = new Date(startDay); sDate.setHours(0,0,0,0); const eDate = new Date(endDay); eDate.setHours(23,59,59,999); const msg = document.getElementById("limitMsg"); const btn = document.getElementById("subBtn"); if(now < sDate){ isBlocked = true; btn.style.display="none"; msg.style.display="block"; msg.innerText="â³ ê¸°ê°„ ì•„ë‹˜."; } else if(now > eDate){ isBlocked = true; btn.style.display="none"; msg.style.display="block"; msg.innerText="ğŸš« ë§ˆê°ë¨."; } }
function checkLimit(){ if(isBlocked) return; const sN=document.getElementById("sN").value.trim().replace(/\s/g,""), sD=document.getElementById("sD").value; if(sN.length < 2 || !sD){ document.getElementById("subBtn").style.display="block"; return; } const key="att_"+sN+"_"+HW_ID; att=parseInt(localStorage.getItem(key)||0); const pKey="perf_"+sN+"_"+HW_ID; if(localStorage.getItem(pKey)=="true"){ isBlocked=true; showFinalResult("ë°±ì !"); return; } if(maxT>0 && att>=maxT){ isBlocked=true; document.getElementById("subBtn").style.display="none"; document.getElementById("limitMsg").style.display="block"; document.getElementById("limitMsg").innerText="ğŸš« ê¸°íšŒ ì†Œì§„."; showFinalResult("ê¸°íšŒ ì†Œì§„"); } }
function done(){ document.getElementById("overlay").style.display="none"; document.getElementById("kakaoBtn").style.display="none"; if(isPerfect){ showFinalResult("ë°±ì !"); return; } if(att >= maxT){ showFinalResult("ê¸°íšŒ ì†Œì§„"); return; } alert("ğŸ“Š " + att + "íšŒì°¨: ì˜¤ë‹µ " + w + "ê°œ"); document.querySelectorAll(".opt-input").forEach(rb => { if(!rb.disabled) rb.checked = false; }); document.getElementById("subBtn").style.display="block"; }
function showFinalResult(msg){ const r=document.getElementById("resArea"); r.style.display="block"; r.innerHTML = "<div style='padding:25px;background:#eeebff;border-radius:15px;text-align:center'><h3>ğŸ "+msg+"</h3><p>ì •ë‹µ í™•ì¸.</p>"; r.innerHTML += "<a href='" + ansLink + "' target='_blank' style='display:block;padding:15px;background:var(--p);color:white;text-decoration:none;border-radius:10px;font-weight:bold'>ğŸ“˜ í•´ì„¤ì§€ ë³´ê¸°</a></div>"; document.getElementById("subBtn").style.display="none"; }
function share(){ const adminData = encodeURIComponent(JSON.stringify({name:document.getElementById("sN").value, class:document.getElementById("cN").value, att:att, wrongCount:w, wrongList:wrongListStr})); const fullAdminLink = ADMIN_BASE + "?admin_view=" + adminData; Kakao.Share.sendDefault({ objectType: "text", text: resT, link: { mobileWebUrl: fullAdminLink, webUrl: fullAdminLink } }); setTimeout(()=>{ const o=document.getElementById("overlay"); o.style.display="flex"; o.innerHTML="<div style='background:white;padding:30px;border-radius:20px;text-align:center'><p style='font-weight:bold'>ì „ì†¡ ì™„ë£Œ?</p><button onclick='done()' style='width:100%;padding:12px;background:#fee500;border:none;border-radius:10px;font-weight:bold;cursor:pointer'>ë„¤</button></div>"; }, 1500); }
window.onload=initPage;</script></body></html>