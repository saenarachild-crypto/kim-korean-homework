<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title>1ì›” 3ì£¼ì°¨ ê³¼ì œ</title>
<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.0/kakao.min.js"></script>
<style>
:root{--p:#6c5ce7;--bg:#f8f9fc}body{font-family:-apple-system,sans-serif;background:var(--bg);margin:0;padding:15px}.container{max-width:500px;margin:0 auto;background:#fff;padding:30px;border-radius:30px;box-shadow:0 15px 35px rgba(0,0,0,0.05)}.header{text-align:center;margin-bottom:25px}.badge{display:inline-block;padding:5px 12px;background:#eeebff;color:var(--p);border-radius:10px;font-size:0.8rem;font-weight:bold;margin-bottom:10px}.q-card{background:#fff;border:1px solid #eee;border-radius:20px;padding:20px;margin-bottom:15px}.q-num{font-weight:bold;margin-bottom:12px;font-size:1.1rem}.options{display:flex;justify-content:space-between;gap:8px}.opt-input{display:none}.opt-label{flex:1;height:45px;border:1.5px solid #eee;border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;transition:0.2s}.opt-input:checked+.opt-label{background:var(--p);border-color:var(--p);color:#fff;box-shadow:0 5px 12px rgba(108, 92, 231, 0.3)}.btn{width:100%;padding:18px;border-radius:15px;border:none;font-weight:bold;font-size:1.1rem;cursor:pointer;margin-top:15px}#subBtn{background:var(--p);color:#fff}#kakaoBtn{background:#fee500;color:#3c1e1e;display:none}.input-group{margin-bottom:15px}.input-group input{width:100%;padding:12px;border:1.5px solid #eee;border-radius:10px;box-sizing:border-box}#overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:99;align-items:center;justify-content:center}</style></head><body><div id="overlay"></div><div class="container"><div class="header"><span class="badge">1ì›” 3ì£¼ì°¨</span><h2>ì£¼ê°„ì§€ ê³ 2 ë¬¸í•™</h2></div><div class="input-group"><input type="text" id="className" placeholder="í•™ì›/ë°˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"></div><div class="input-group"><input type="text" id="studentName" placeholder="í•™ìƒ ì„±í•¨ì„ ì…ë ¥í•˜ì„¸ìš”"></div><div id="qContainer"></div><button id="subBtn" class="btn" onclick="submit()">ğŸ“ ë‹µì•ˆ ì œì¶œ ë° ê¸°ë¡</button><button id="kakaoBtn" class="btn" onclick="share()">ğŸŸ¡ ì¹´í†¡ìœ¼ë¡œ ì„±ì  ë³´ê³ </button><div id="resArea" style="display:none;margin-top:25px;text-align:center"></div></div><script>
try{if(!Kakao.isInitialized())Kakao.init("f81d5eae0eaaf6fa2d0bdccbe6916001");}catch(e){}
const correct=[1,2,3,4], active=[1,2,3,4], sUrl="https://script.google.com/macros/s/AKfycbwtzD2n-5ksERWy2iqE1dB4g36RfWfpP0DhvutxJcYTOSZP8u-xvLHUNZcFgMNkjbF1/exec", ansL="#"; let resT="", w=0;window.addEventListener("load", function(){
  let h=""; active.forEach(n=>{
    h+='<div class="q-card"><div class="q-num">'+n+'ë²ˆ</div><div class="options">';
    for(let j=1;j<=5;j++) h+='<input type="radio" name="q'+n+'" id="q'+n+'_'+j+'" value="'+j+'" class="opt-input"><label for="q'+n+'_'+j+'" class="opt-label">'+j+'</label>';
    h+='</div></div>';
  }); document.getElementById("qContainer").innerHTML=h;
});
function submit(){
  const cN=document.getElementById("className").value, sN=document.getElementById("studentName").value;
  if(!cN||!sN){alert("ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");return;}
  const storageKey = "att_" + "1ì›” 3ì£¼ì°¨" + "_" + sN; let att = parseInt(localStorage.getItem(storageKey)||0)+1; localStorage.setItem(storageKey, att);
  w=0; let d=[]; active.forEach(i=>{const sel=document.querySelector('input[name="q'+i+'"]:checked'); const v=sel?parseInt(sel.value):0; if(v!==correct[i-1]){w++; d.push(i);}});
  resT = "â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n[ 1ì›” 3ì£¼ì°¨ ì„±ì  ë³´ê³  ]\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâ— ê³¼ì œëª…: ì£¼ê°„ì§€ ê³ 2 ë¬¸í•™\nâ— ì†Œì†: "+cN+"\nâ— ì„±í•¨: "+sN+"\nâ— ë„ì „: "+att+"íšŒì°¨\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“Š ê²°ê³¼: ì˜¤ë‹µ "+w+"ê°œ\nğŸ“ ì˜¤ë‹µë²ˆí˜¸: "+(d.join(", ")||"ì—†ìŒ")+"\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”";
  fetch(sUrl, {method:"POST", mode:"no-cors", body:JSON.stringify({exam:"1ì›” 3ì£¼ì°¨", class:cN, name:sN, attempt:att, wrongCount:w, wrongList:d.join(",")}) });
  alert("ì„±ì ì´ ê¸°ë¡ë˜ì—ˆìŠµë‹ˆë‹¤. ì¹´í†¡ ì „ì†¡ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.");
  document.getElementById("subBtn").style.display="none"; document.getElementById("kakaoBtn").style.display="block";
}
function share(){
  Kakao.Share.sendDefault({objectType:"text", text:resT, link:{mobileWebUrl:location.href, webUrl:location.href}});
  setTimeout(function(){ document.getElementById("overlay").style.display="flex"; document.getElementById("overlay").innerHTML='<div style="background:#fff;padding:30px;border-radius:20px;text-align:center;width:80%"><p style="font-weight:bold">ì „ì†¡ì„ ì™„ë£Œí•˜ì…¨ë‚˜ìš”?</p><button onclick="done()" style="width:100%;padding:15px;background:#fee500;border:none;border-radius:12px;font-weight:bold">ë„¤, ì™„ë£Œí–ˆìŠµë‹ˆë‹¤</button></div>'; }, 2000);
}
function done(){
  document.getElementById("overlay").style.display="none"; document.getElementById("kakaoBtn").style.display="none";
  const r=document.getElementById("resArea"); r.style.display="block";
  r.innerHTML="<div style='padding:25px;background:#eeebff;border-radius:20px'><h3 style='color:var(--p)'>ğŸŠ ìµœì¢… ì œì¶œ ì™„ë£Œ</h3><div style='font-size:1.8rem;font-weight:bold;margin:10px 0'>ì˜¤ë‹µ "+w+"ê°œ</div><a href='"+ansL+"' target='_blank' style='display:inline-block;padding:15px 30px;background:var(--p);color:#fff;text-decoration:none;border-radius:12px;font-weight:bold'>ğŸ“˜ í•´ì„¤ì§€ ë³´ê¸°</a></div>";
}
</script></body></html>