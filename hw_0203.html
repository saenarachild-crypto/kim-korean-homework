<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ì£¼ê°„ ê³¼ì œ 2ì›” 3íšŒì°¨</title>
<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.0/kakao.min.js"></script>
<style>
:root{--p:#6c5ce7;--bg:#f8f9fc}
body{font-family:-apple-system,BlinkMacSystemFont,sans-serif;background:var(--bg);padding:20px;margin:0;color:#2d3436}
.container{max-width:650px;margin:0 auto;background:#fff;padding:30px;border-radius:30px;box-shadow:0 10px 40px rgba(0,0,0,0.03)}
.subject-selector{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:20px}
.sub-btn{padding:15px;border:2px solid #eee;border-radius:12px;background:#fff;font-weight:bold;cursor:pointer;transition:0.2s}
.sub-btn.active{border-color:var(--p);background:#f0edff;color:var(--p)}
.q-card{border:1px solid #e2e8f0;border-radius:20px;padding:20px;margin-bottom:15px;background:#fff}
.ans-row{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
input[type="radio"]{position:absolute;opacity:0}
label{height:50px;display:flex;align-items:center;justify-content:center;border:1px solid #e2e8f0;border-radius:12px;cursor:pointer;font-weight:700;background:#fff;transition:0.2s}
input[type="radio"]:checked+label{background:var(--p);color:white;border-color:var(--p)}
input[type="radio"]:disabled+label{background:#eee;color:#bbb;cursor:not-allowed}
#overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:999;align-items:center;justify-content:center}
.main-btn{width:100%;padding:20px;border:none;border-radius:15px;font-weight:bold;margin-top:20px;cursor:pointer;font-size:1.1rem;transition:0.2s}
.main-btn:disabled{opacity:0.5;cursor:not-allowed}
</style>
<script>window.onload=function(){const p=new URLSearchParams(window.location.search);if(p.has("admin_view")){const d=JSON.parse(decodeURIComponent(p.get("admin_view")));document.body.innerHTML="<div class='container' style='margin-top:50px;text-align:center;box-shadow:0 0 100px rgba(0,0,0,0.2);border:3px solid #6c5ce7'><h2>ğŸ“Š ì„±ì  í™•ì¸</h2><div style='background:#fff3e0;padding:15px;border-radius:12px;margin:20px 0;text-align:left;font-size:1.1rem;line-height:2'><b>ğŸ‘¤ ì´ë¦„:</b> "+d.name+"<br><b>ğŸ« í•™ì›:</b> "+d.class+"<br><b>ğŸ”„ ë„ì „:</b> "+d.att+"íšŒì°¨<br><b>âŒ ì˜¤ë‹µ:</b> <span style='color:red'>"+d.wrongCount+"ê°œ</span><br><b>ğŸ“ ë²ˆí˜¸:</b> "+(d.wrongList||"ì—†ìŒ")+"</div><button onclick='location.href=location.href.split(\"?\")[0]' style='width:100%;padding:15px;background:#6c5ce7;color:white;border:none;border-radius:10px;font-weight:bold;cursor:pointer'>ëŒì•„ê°€ê¸°</button></div>";return}startApp()};</script>
</head><body>
<div id="overlay"></div>
<div class="container">
<div id="introPage" style="text-align:center;padding:20px 0">
<h1>1êµì‹œ ê¹€í˜„ì„ êµ­ì–´</h1>
<div style="background:#fff9f0;border:2px dashed #ffcc80;border-radius:20px;padding:25px;margin:25px 0;text-align:left">
<h3>ğŸ“¢ í•„ìˆ˜ ê³µì§€</h3><p></p>
<p>ğŸ“… ì œì¶œ ê¸°í•œ: 2026-02-11 ~ 2026-02-17<br>ğŸ”„ ìµœëŒ€ ë„ì „: 3íšŒ</p>
</div>
<button onclick="startApp()" style="width:100%;padding:22px;background:var(--p);color:white;border:none;border-radius:20px;font-size:1.25em;font-weight:800;cursor:pointer">í™•ì¸í–ˆìŠµë‹ˆë‹¤. ê³¼ì œ ì‹œì‘!</button>
</div>
<div id="examPage" style="display:none">
<h2 style="text-align:center">ì£¼ê°„ ê³¼ì œ 2ì›” 3íšŒì°¨</h2>
<div id="timer" style="text-align:right;font-weight:bold;color:#ff6b6b;margin-bottom:10px">â± <span id="timeText">ìƒíƒœ í™•ì¸ ì¤‘</span></div>
<div class="subject-selector">
<button id="btn_A" class="sub-btn active" onclick="setSubject('A')">ë…ì„œ</button>
<button id="btn_B" class="sub-btn" onclick="setSubject('B')">ë¬¸í•™</button>
</div>
<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:15px">
<input type="text" id="cN" placeholder="í•™ì›ëª…">
<input type="text" id="sN" placeholder="í•™ìƒ ì´ë¦„">
</div>
<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:15px">
<select id="sD"></select>
<a id="paperLink" href="https://goe2427-my.sharepoint.com/:b:/g/personal/pure173_jeonghyeonh_goe_go_kr/IQBE64QSO6-0RLh4AnUrmxPCAc5LgXJEXkp1-YlIKbosCK8?e=Dml4vS" target="_blank" style="display:flex;align-items:center;justify-content:center;background:#eee;color:#333;text-decoration:none;border-radius:10px;font-weight:bold;font-size:0.8rem">ğŸ“„ ë¬¸ì œì§€ ë³´ê¸°</a>
</div>
<div id="qC"></div>
<button id="subBtn" class="main-btn" onclick="submit()" style="background:#ff6b6b;color:white">ğŸ“ ë‹µì•ˆ ì œì¶œí•˜ê¸°</button>
<button id="kakaoBtn" class="main-btn" onclick="share()" style="display:none;background:#fee500;color:#3c1e1e">ğŸŸ¡ ì¹´í†¡ìœ¼ë¡œ ì œì¶œ í™•ì¸</button>
<div id="resArea" style="display:none;margin-top:20px"></div>
</div>
</div>
<script>
const C={title:"ì£¼ê°„ ê³¼ì œ 2ì›” 3íšŒì°¨",start:"2026-02-11",end:"2026-02-17",max:3,wait:3,gas:"https://script.google.com/macros/s/AKfycbzkA0CC8GAhcdAP16fzq32ufyTIYolZ8TyeuSjW5FAsG0M3vPcYQOIaSKIOOYKYgtDc/exec",ansL:"https://goe2427-my.sharepoint.com/:b:/g/personal/pure173_jeonghyeonh_goe_go_kr/IQB7OiOxZ28TSJHARlwGlEYkASo4IAluq0u3EFeVEjoxc2s?e=e6D30F",prefix:"HW_ì£¼ê°„ê³¼ì œ2ì›”3íšŒì°¨_"};
const PDFS={A:"https://goe2427-my.sharepoint.com/:b:/g/personal/pure173_jeonghyeonh_goe_go_kr/IQBE64QSO6-0RLh4AnUrmxPCAc5LgXJEXkp1-YlIKbosCK8?e=Dml4vS",B:"https://goe2427-my.sharepoint.com/:b:/g/personal/pure173_jeonghyeonh_goe_go_kr/IQCB5vRkTAciTLv_eeurKXnOAXTbTNYG7EDvU97dvp7Ojps?e=YJze4o"};
const ANS={A:[0,2,1,4,2,2,4,3,5,4,5,4,3,4,1,5,3,5,1,3,2,3,2,2,4,4,2,3,3,4,1,3,4],B:[0,2,4,1,3,2,4,2,4,4,1,4,4,1,3,3,2,4,1,2,4,1,4,4,3,3,2,2,4,4,4]};
const TOTAL={A:32,B:30};
const ACTIVE={A:[1,2,3,4,5,6,7,8,13,14,15,16,21,22,23,24,30,31,32],B:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]};
let curSub="A",wCount=0,wList=[],att=0,isPerf=false,resT="",timeLeft,timerInterval=null;
try{if(!Kakao.isInitialized())Kakao.init("f81d5eae0eaaf6fa2d0bdccbe6916001")}catch(e){console.error(e)}
function startApp(){document.getElementById('introPage').style.display='none';document.getElementById('examPage').style.display='block';window.scrollTo(0,0);init()}
function setSubject(s){if(s==='B'&&ANS.B.length<=1){alert('íƒ€ì… BëŠ” ì œê³µë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');return}curSub=s;document.getElementById("btn_A").className="sub-btn"+(s==='A'?' active':'');document.getElementById("btn_B").className="sub-btn"+(s==='B'?' active':'');document.getElementById("paperLink").href=PDFS[s];renderQ()}
function init(){const sel=document.getElementById("sD");sel.innerHTML="";let loop=new Date(C.start);while(loop<=new Date(C.end)){let s=loop.toISOString().split('T')[0];let o=document.createElement("option");o.value=s;o.innerText=s;sel.appendChild(o);loop.setDate(loop.getDate()+1)}document.getElementById("paperLink").href=PDFS[curSub];renderQ();updateStatus();setInterval(updateStatus,1000)}
function renderQ(){let h="";const total=TOTAL[curSub];const active=ACTIVE[curSub];for(let i=1;i<=total;i++){const dis=active.includes(i)?"":"disabled";h+='<div class="q-card"><b>'+i+'ë²ˆ</b><div class="ans-row">';for(let j=1;j<=5;j++){h+='<input type="radio" name="q'+i+'" id="q'+i+'_'+j+'" value="'+j+'" '+dis+'><label for="q'+i+'_'+j+'">'+j+'</label>'}h+='</div></div>'}document.getElementById("qC").innerHTML=h}
function submit(){const cN=document.getElementById("cN").value.trim(),sN=document.getElementById("sN").value.trim().replace(/\s/g,""),sD=document.getElementById("sD").value;if(!cN||!sN||!sD){alert("í•™ì›ëª…, í•™ìƒ ì´ë¦„, ì‘ì‹œ ë‚ ì§œë¥¼ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”.");return}wCount=0;wList=[];const total=TOTAL[curSub];const active=ACTIVE[curSub];for(let i=1;i<=total;i++){if(!active.includes(i))continue;let selected=document.querySelector('input[name="q'+i+'"]:checked');let userAns=selected?parseInt(selected.value):0;if(i>=ANS[curSub].length){console.error('ë¬¸í•­ '+i+'ë²ˆì˜ ì •ë‹µì´ ì •ì˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');continue}if(userAns!==ANS[curSub][i]){wCount++;wList.push(i)}}isPerf=(wCount===0);const key="att_"+sN+"_"+C.prefix+curSub;att=parseInt(localStorage.getItem(key)||0)+1;localStorage.setItem(key,att);if(isPerf)localStorage.setItem("perf_"+sN+"_"+C.prefix+curSub,"true");resT="["+C.title+"] "+sN+"("+att+"íšŒì°¨) ì œì¶œ ì™„ë£Œ";document.getElementById("subBtn").style.display="none";document.getElementById("kakaoBtn").style.display="block";fetch(C.gas,{method:"POST",mode:"no-cors",body:JSON.stringify({exam:C.title+"_"+curSub,name:sN,class:cN,attempt:att,wrongCount:wCount,wrongList:wList.join(",")})}).catch(err=>console.error('ë°ì´í„° ì „ì†¡ ì‹¤íŒ¨:',err))}
function share(){try{if(!Kakao.isInitialized()){console.warn('ì¹´ì¹´ì˜¤í†¡ SDKê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');alert('ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\nê²°ê³¼ëŠ” ì´ë¯¸ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤.');return done()}Kakao.Share.sendDefault({objectType:"text",text:resT,link:{mobileWebUrl:window.location.href,webUrl:window.location.href}});setTimeout(()=>{const o=document.getElementById("overlay");o.style.display="flex";o.innerHTML='<div style="background:white;padding:30px;border-radius:20px;text-align:center;width:80%;max-width:300px"><p>ì¹´í†¡ ì „ì†¡ì„ ì™„ë£Œí•˜ì…¨ë‚˜ìš”?</p><button onclick="done()" style="padding:12px;background:#fee500;border:none;border-radius:10px;font-weight:bold;width:100%;cursor:pointer">ë„¤, ì™„ë£Œí–ˆìŠµë‹ˆë‹¤</button></div>'},1500)}catch(e){console.error('ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ì‹¤íŒ¨:',e);alert('ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\nê²°ê³¼ëŠ” ì´ë¯¸ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤.');done()}}
function done(){document.getElementById("overlay").style.display="none";document.getElementById("kakaoBtn").style.display="none";const rArea=document.getElementById("resArea");rArea.style.display="block";let feedback="";if(isPerf){feedback="ğŸ‰ ë§Œì ì…ë‹ˆë‹¤! ì™„ë²½í•˜ê²Œ í•´ê²°í–ˆìŠµë‹ˆë‹¤."}else{if(att===1){feedback="ğŸ“Š 1íšŒì°¨ ê²°ê³¼: <b>ì˜¤ë‹µ "+wCount+"ê°œ</b><br><small>ì–´ë–¤ ë¬¸í•­ì´ í‹€ë ¸ëŠ”ì§€ ìŠ¤ìŠ¤ë¡œ ë‹¤ì‹œ í•œë²ˆ ì°¾ì•„ë³´ì„¸ìš”!</small>"}else{feedback="ğŸ“Š "+att+"íšŒì°¨ ê²°ê³¼: <b>ì˜¤ë‹µ "+wCount+"ê°œ</b><br><b>ì˜¤ë‹µ ë¬¸í•­: "+wList.join(", ")+"</b>"}}let resultHTML='<div style="padding:25px;background:#eeebff;border-radius:15px;text-align:center"><h3>ì±„ì  ê²°ê³¼</h3><p>'+feedback+'</p>';if(att>=3||isPerf){resultHTML+='<a href="'+C.ansL+'" target="_blank" style="display:block;padding:15px;background:#6c5ce7;color:white;text-decoration:none;border-radius:10px;font-weight:bold;margin-top:10px">ğŸ“˜ í•´ì„¤ì§€ ë³´ê¸°</a>'}resultHTML+='</div>';if(!isPerf&&att<C.max){resultHTML+='<button onclick="location.reload()" style="width:100%;padding:15px;background:#eee;border:none;border-radius:10px;margin-top:10px;cursor:pointer">ğŸ”„ ë‹¤ì‹œ ë„ì „í•˜ê¸° ('+att+'/'+C.max+')</button>'}rArea.innerHTML=resultHTML}
function updateStatus(){const now=new Date().getTime();const end=new Date(C.end);end.setHours(23,59,59,999);const disk=document.getElementById("timeText");const submitBtn=document.getElementById("subBtn");if(now>end.getTime()){disk.innerText="ê¸°í•œ ë§ˆê°";submitBtn.disabled=true;submitBtn.style.opacity="0.5";submitBtn.style.cursor="not-allowed"}else{const sN=document.getElementById("sN").value.trim();if(!sN){disk.innerText="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”";submitBtn.disabled=true}else{disk.innerText="ì œì¶œ ê°€ëŠ¥";submitBtn.disabled=false}}}
</script></body></html>