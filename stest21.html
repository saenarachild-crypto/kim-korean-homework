<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>1ì›” 3ì£¼ì°¨ ì£¼ê°„ì§€ ê³ 2 ë¬¸í•™</title>
<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.0/kakao.min.js"></script>
<style>
:root{--p:#6c5ce7;--bg:#f8f9fc}body{font-family:-apple-system,sans-serif;background:var(--p);padding:15px;margin:0}.container{max-width:600px;margin:0 auto;background:#fff;padding:25px;border-radius:20px;box-shadow:0 10px 25px rgba(0,0,0,0.1)}.notice-box{background:#fff3e0;padding:15px;border-radius:12px;margin-bottom:20px;font-size:0.9rem;color:#5d4037;line-height:1.6}.q-card{background:#fff;border:1.5px solid #eee;border-radius:15px;padding:20px;margin-bottom:12px}.options{display:grid;grid-template-columns:repeat(5,1fr);gap:8px}.opt-input{position:absolute;opacity:0}.opt-label{height:45px;border:1.5px solid #eee;border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;transition:0.2s}.opt-input:checked+.opt-label{background:var(--p);color:#fff;box-shadow:0 5px 12px rgba(108,92,231,0.3)}#timer{font-weight:bold;color:#ff6b6b;text-align:right;font-size:1.0rem;margin-bottom:10px}#overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:99;align-items:center;justify-content:center}input,select{padding:12px;border:1px solid #ddd;border-radius:10px;width:100%;box-sizing:border-box;outline:none}
</style></head><body><div id="overlay"></div><div class="container"><h2 style="text-align:center;margin-bottom:20px">1ì›” 3ì£¼ì°¨ ì£¼ê°„ì§€ ê³ 2 ë¬¸í•™</h2><div id="timer">â± <span id="timeText">--ë¶„ --ì´ˆ ë‚¨ìŒ</span></div><div class="notice-box"><b>[ê³µì§€]</b> - ì œì¶œ í›„ ëŒ€ê¸° ì‹œê°„ì´ ì§€ë‚˜ì•¼ ë‹¤ìŒ ì‘ì‹œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br>ğŸ”„ ì´ 3íšŒ ë„ì „ ê°€ëŠ¥</div><div id="limitMsg" style="display:none;color:#d63031;font-weight:bold;text-align:center;margin-bottom:20px;padding:15px;background:#fab1a0;border-radius:12px">ğŸš« ë„ì „ ê¸°íšŒë¥¼ ëª¨ë‘ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.</div><div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:15px"><input type="text" id="cN" placeholder="í•™ì›ëª…"> <input type="text" id="sN" placeholder="í•™ìƒ ì´ë¦„" oninput="checkLimit()"></div><div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:15px"><select id="sD" onchange="checkLimit()"><option value="">ì œì¶œì¼ ì„ íƒ</option></select><a href="#" target="_blank" style="display:flex;align-items:center;justify-content:center;background:#eee;color:#333;text-decoration:none;border-radius:10px;font-weight:bold;font-size:0.8rem">ğŸ“„ ë¬¸ì œì§€ ë³´ê¸°</a></div><div id="qC"></div><button id="subBtn" onclick="submit()" style="width:100%;padding:20px;background:#ff6b6b;color:white;border:none;border-radius:15px;font-weight:bold;margin-top:20px;cursor:pointer;font-size:1.1rem">ğŸ“ ë‹µì•ˆ ì œì¶œí•˜ê¸°</button><button id="kakaoBtn" onclick="share()" style="display:none;width:100%;background:#fee500;color:#3c1e1e;border:none;padding:20px;border-radius:15px;font-weight:bold;margin-top:20px;cursor:pointer;font-size:1.1rem">ğŸŸ¡ ì¹´í†¡ìœ¼ë¡œ ê²°ê³¼ ì „ì†¡</button><div id="resArea" style="display:none;margin-top:20px"></div></div><script>
let timeLeft, timerInterval = null, w=0, att=0, isBlocked=false, resT="";
const correct=[0,1,2,3,4,5], active=[1,2,3,4,5], maxT=3, waitMin=3;
try{if(!Kakao.isInitialized()){Kakao.init("f81d5eae0eaaf6fa2d0bdccbe6916001");}}catch(e){console.error(e);}
function initPage(){
  const sel=document.getElementById("sD"); const start=new Date("2026-01-21"), end=new Date("2026-01-28");
  for(let d=new Date(start); d<=end; d.setDate(d.getDate()+1)){ let s=d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate(); let opt=document.createElement("option"); opt.value=s; opt.innerText=s; sel.appendChild(opt); }
  let h=""; active.forEach(n=>{ h+="<div class='q-card'><div style='font-weight:bold;margin-bottom:15px;font-size:1.1rem'>"+n+"ë²ˆ</div><div class='options'>"; for(let j=1;j<=5;j++){ h+="<input type='radio' name='q"+n+"' id='q"+n+"_"+j+"' value='"+j+"' class='opt-input'><label for='q"+n+"_"+j+"' class='opt-label'>"+j+"</label>"; } h+="</div></div>"; }); document.getElementById("qC").innerHTML=h;
}
function checkLimit(){
  const sN=document.getElementById("sN").value.trim().replace(/\s/g,""), sD=document.getElementById("sD").value;
  if(sN.length < 2 || !sD){ document.getElementById("subBtn").style.display="block"; document.getElementById("limitMsg").style.display="none"; return; }
  const key="att_"+sN+"_"+"1ì›”3ì£¼ì°¨ì£¼ê°„ì§€ê³ 2ë¬¸í•™"; att=parseInt(localStorage.getItem(key)||0);
  if(maxT>0 && att>=maxT){ isBlocked=true; document.getElementById("subBtn").style.display="none"; document.getElementById("limitMsg").style.display="block"; }
  else { isBlocked=false; document.getElementById("subBtn").style.display="block"; document.getElementById("limitMsg").style.display="none"; }
}
function startWaitTimer(){
  if(timerInterval) clearInterval(timerInterval); timeLeft = waitMin * 60;
  const btn=document.getElementById("subBtn"); btn.style.opacity="0.5"; btn.innerText="ëŒ€ê¸° ì¤‘..."; btn.disabled=true;
  timerInterval = setInterval(()=>{
    if(timeLeft<=0){ clearInterval(timerInterval); timerInterval=null; btn.style.opacity="1"; btn.innerText="ğŸ“ ë‹µì•ˆ ì œì¶œí•˜ê¸°"; btn.disabled=false; document.getElementById("timeText").innerText="ì…ë ¥ ê°€ëŠ¥"; return; }
    timeLeft--; const m=Math.floor(timeLeft/60), s=timeLeft%60; document.getElementById("timeText").innerText="ë‹¤ìŒ íšŒì°¨ ë„ì „ê¹Œì§€ "+m+"ë¶„ "+(s<10?"0"+s:s)+"ì´ˆ ë‚¨ìŒ";
  }, 1000);
}
function submit(){
  if(isBlocked) return; const cN=document.getElementById("cN").value, sN=document.getElementById("sN").value.trim().replace(/\s/g,""), sD=document.getElementById("sD").value; if(!cN||!sN||!sD){alert("ëª¨ë“  ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."); return;}
  att++; localStorage.setItem("att_"+sN+"_"+"1ì›”3ì£¼ì°¨ì£¼ê°„ì§€ê³ 2ë¬¸í•™", att); w=0; let d=[]; active.forEach(n=>{ const s=document.querySelector("input[name='q"+n+"']:checked"); if(!s||parseInt(s.value)!==correct[n]){w++; d.push(n);} });
  let msg = "ì˜¤ë‹µ: "+w+"ê°œ"; if(att === 2){ msg += "\nğŸ“í‹€ë¦°ë²ˆí˜¸: "+(d.join(", ")||"ì—†ìŒ"); }
  resT="[1ì›” 3ì£¼ì°¨ ì£¼ê°„ì§€ ê³ 2 ë¬¸í•™]\n"+sN+"("+att+"íšŒì°¨)\n"+msg; alert("ì œì¶œ ì™„ë£Œ!"); document.getElementById("subBtn").style.display="none"; document.getElementById("kakaoBtn").style.display="block";
  fetch("https://script.google.com/macros/s/AKfycbwtzD2n-5ksERWy2iqE1dB4g36RfWfpP0DhvutxJcYTOSZP8u-xvLHUNZcFgMNkjbF1/exec",{method:"POST",mode:"no-cors",body:JSON.stringify({exam:"1ì›” 3ì£¼ì°¨ ì£¼ê°„ì§€ ê³ 2 ë¬¸í•™",name:sN,class:cN,attempt:att,wrongCount:w,wrongList:d.join(",")})});
}
function share(){
  Kakao.Share.sendDefault({objectType:"text",text:resT,link:{mobileWebUrl:window.location.href,webUrl:window.location.href}});
  setTimeout(()=>{ const o=document.getElementById("overlay"); o.style.display="flex"; o.innerHTML="<div style='background:white;padding:30px;border-radius:20px;text-align:center'><p style='font-weight:bold'>ì „ì†¡ì„ ì™„ë£Œí•˜ì…¨ë‚˜ìš”?</p><button onclick='done()' style='width:100%;padding:12px;background:#fee500;border:none;border-radius:10px;font-weight:bold;cursor:pointer'>ë„¤, ì™„ë£Œí–ˆìŠµë‹ˆë‹¤</button></div>"; }, 1500);
}
function done(){
  document.getElementById("overlay").style.display="none"; document.getElementById("kakaoBtn").style.display="none"; 
  document.querySelectorAll(".opt-input").forEach(rb => rb.checked = false);
  document.getElementById("resArea").style.display="none";
  document.getElementById("subBtn").style.display="block"; 
  startWaitTimer();
}
window.onload=initPage;</script></body></html>